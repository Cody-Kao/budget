{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\todo-typescript\\\\src\\\\Context\\\\BudgetAndExpense\\\\BudgetAndExpense.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useContext } from 'react';\nimport { v4 as uuidV4 } from \"uuid\";\nimport useLocalStorage from \"../../hooks/useLocalStorage/useLocalStorage.ts\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BudgetContext = /*#__PURE__*/React.createContext(null);\nexport function useBudget() {\n  _s();\n  return useContext(BudgetContext);\n}\n_s(useBudget, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport default function BudgetAndExpenseContext({\n  children\n}) {\n  _s2();\n  const [budgets, setBudgets] = useLocalStorage(\"budgets\", []);\n  const [expenses, setExpenses] = useLocalStorage(\"expenses\", []);\n  function getBudgetExpenses(budgetID) {\n    return expenses.filter(expense => expense.budgetID === budgetID);\n  }\n  function addBudget(name, max) {\n    setBudgets(prevBudgets => {\n      // 如果該預算名稱已經有了，就不做任何事情\n      if (prevBudgets.find(budget => budget.name === name)) {\n        return prevBudgets;\n      }\n      // 指派的變數對應的名稱相同就不用寫成 name: name, max: max，直接寫就好\n      return [...prevBudgets, {\n        id: uuidV4(),\n        name,\n        max\n      }];\n    });\n  }\n  function addExpense(budgetID, amount, description) {\n    setExpenses(prevExpenses => {\n      return [...prevExpenses, {\n        budgetID,\n        id: uuidV4(),\n        amount,\n        description\n      }];\n    });\n  }\n  function deleteBudget(budgetID) {\n    setBudgets(preBudgets => {\n      return preBudgets.filter(budget => budget.id !== budgetID);\n    });\n  }\n  function deleteExpense(expenseID) {\n    setExpenses(preExpense => {\n      return preExpense.filter(expense => expense.id !== expenseID);\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(BudgetContext.Provider, {\n    value: {\n      budgets,\n      expenses,\n      getBudgetExpenses,\n      addExpense,\n      addBudget,\n      deleteBudget,\n      deleteExpense\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n}\n_s2(BudgetAndExpenseContext, \"J7E4d7guQZ/gp2cZLJi5v6QwLyA=\", false, function () {\n  return [useLocalStorage, useLocalStorage];\n});\n_c = BudgetAndExpenseContext;\nvar _c;\n$RefreshReg$(_c, \"BudgetAndExpenseContext\");","map":{"version":3,"names":["React","useContext","v4","uuidV4","useLocalStorage","jsxDEV","_jsxDEV","BudgetContext","createContext","useBudget","_s","BudgetAndExpenseContext","children","_s2","budgets","setBudgets","expenses","setExpenses","getBudgetExpenses","budgetID","filter","expense","addBudget","name","max","prevBudgets","find","budget","id","addExpense","amount","description","prevExpenses","deleteBudget","preBudgets","deleteExpense","expenseID","preExpense","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/user/Desktop/todo-typescript/src/Context/BudgetAndExpense/BudgetAndExpense.tsx"],"sourcesContent":["import React, {ReactNode, useContext} from 'react'\r\nimport {v4 as uuidV4} from \"uuid\"\r\n\r\nimport useLocalStorage from \"../../hooks/useLocalStorage/useLocalStorage.ts\"\r\n\r\ninterface budgetObject {\r\n  id:string,\r\n  name:string,\r\n  max:number\r\n}\r\n\r\ninterface expenseObject {\r\n  id:string,\r\n  budgetID:string,\r\n  amount:number,\r\n  description:string\r\n}\r\n\r\ninterface BudgetAndExpenseData {\r\n  budgets: budgetObject[],\r\n  expenses: expenseObject[],\r\n  getBudgetExpenses: (budgetID:string) => expenseObject[],\r\n  addBudget?: (name:string, max:number) => void,\r\n  addExpense: (budgetID:string, amount:number, description:string ) => void,\r\n  deleteBudget: (budgetID: string) => void,\r\n  deleteExpense: (expenseID: string) => void\r\n}\r\n\r\nconst BudgetContext = React.createContext<BudgetAndExpenseData | null>(null)\r\n\r\nexport function useBudget(): BudgetAndExpenseData | null {\r\n  return useContext(BudgetContext)\r\n}\r\n\r\nexport default function BudgetAndExpenseContext( {children} : {children:ReactNode} ) {\r\n  const [budgets, setBudgets] = useLocalStorage<budgetObject[]>(\"budgets\", [])\r\n  const [expenses, setExpenses] = useLocalStorage<expenseObject[]>(\"expenses\", [])\r\n\r\n  function getBudgetExpenses(budgetID:string): expenseObject[] {\r\n    return expenses.filter(expense => expense.budgetID === budgetID)\r\n  }\r\n\r\n  function addBudget(name:string, max:number): void {\r\n    setBudgets( prevBudgets => {\r\n        // 如果該預算名稱已經有了，就不做任何事情\r\n        if (prevBudgets.find(budget => budget.name === name)) {\r\n          return prevBudgets\r\n        }\r\n        // 指派的變數對應的名稱相同就不用寫成 name: name, max: max，直接寫就好\r\n        return [...prevBudgets, {id:uuidV4(), name, max}]\r\n      }\r\n    )\r\n  }\r\n\r\n  function addExpense(budgetID:string, amount:number, description:string): void {\r\n    setExpenses(prevExpenses => {\r\n      return [...prevExpenses, {budgetID, id: uuidV4(), amount, description}]\r\n    })\r\n  }\r\n\r\n  function deleteBudget(budgetID: string): void {\r\n    setBudgets(preBudgets => {\r\n      return preBudgets.filter(budget => budget.id !== budgetID)\r\n    })\r\n  }\r\n\r\n  function deleteExpense(expenseID: string): void {\r\n    setExpenses(preExpense => {\r\n      return preExpense.filter(expense => expense.id !== expenseID)\r\n    })\r\n  }\r\n\r\n  return (\r\n    <BudgetContext.Provider value={{\r\n      budgets,\r\n      expenses,\r\n      getBudgetExpenses,\r\n      addExpense,\r\n      addBudget,\r\n      deleteBudget,\r\n      deleteExpense\r\n    }}>\r\n      {children}\r\n    </BudgetContext.Provider>\r\n  )\r\n}\r\n"],"mappings":";;;AAAA,OAAOA,KAAK,IAAcC,UAAU,QAAO,OAAO;AAClD,SAAQC,EAAE,IAAIC,MAAM,QAAO,MAAM;AAEjC,OAAOC,eAAe,MAAM,gDAAgD;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAyB5E,MAAMC,aAAa,gBAAGP,KAAK,CAACQ,aAAa,CAA8B,IAAI,CAAC;AAE5E,OAAO,SAASC,SAASA,CAAA,EAAgC;EAAAC,EAAA;EACvD,OAAOT,UAAU,CAACM,aAAa,CAAC;AAClC;AAACG,EAAA,CAFeD,SAAS;AAIzB,eAAe,SAASE,uBAAuBA,CAAE;EAACC;AAA+B,CAAC,EAAG;EAAAC,GAAA;EACnF,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGX,eAAe,CAAiB,SAAS,EAAE,EAAE,CAAC;EAC5E,MAAM,CAACY,QAAQ,EAAEC,WAAW,CAAC,GAAGb,eAAe,CAAkB,UAAU,EAAE,EAAE,CAAC;EAEhF,SAASc,iBAAiBA,CAACC,QAAe,EAAmB;IAC3D,OAAOH,QAAQ,CAACI,MAAM,CAACC,OAAO,IAAIA,OAAO,CAACF,QAAQ,KAAKA,QAAQ,CAAC;EAClE;EAEA,SAASG,SAASA,CAACC,IAAW,EAAEC,GAAU,EAAQ;IAChDT,UAAU,CAAEU,WAAW,IAAI;MACvB;MACA,IAAIA,WAAW,CAACC,IAAI,CAACC,MAAM,IAAIA,MAAM,CAACJ,IAAI,KAAKA,IAAI,CAAC,EAAE;QACpD,OAAOE,WAAW;MACpB;MACA;MACA,OAAO,CAAC,GAAGA,WAAW,EAAE;QAACG,EAAE,EAACzB,MAAM,CAAC,CAAC;QAAEoB,IAAI;QAAEC;MAAG,CAAC,CAAC;IACnD,CACF,CAAC;EACH;EAEA,SAASK,UAAUA,CAACV,QAAe,EAAEW,MAAa,EAAEC,WAAkB,EAAQ;IAC5Ed,WAAW,CAACe,YAAY,IAAI;MAC1B,OAAO,CAAC,GAAGA,YAAY,EAAE;QAACb,QAAQ;QAAES,EAAE,EAAEzB,MAAM,CAAC,CAAC;QAAE2B,MAAM;QAAEC;MAAW,CAAC,CAAC;IACzE,CAAC,CAAC;EACJ;EAEA,SAASE,YAAYA,CAACd,QAAgB,EAAQ;IAC5CJ,UAAU,CAACmB,UAAU,IAAI;MACvB,OAAOA,UAAU,CAACd,MAAM,CAACO,MAAM,IAAIA,MAAM,CAACC,EAAE,KAAKT,QAAQ,CAAC;IAC5D,CAAC,CAAC;EACJ;EAEA,SAASgB,aAAaA,CAACC,SAAiB,EAAQ;IAC9CnB,WAAW,CAACoB,UAAU,IAAI;MACxB,OAAOA,UAAU,CAACjB,MAAM,CAACC,OAAO,IAAIA,OAAO,CAACO,EAAE,KAAKQ,SAAS,CAAC;IAC/D,CAAC,CAAC;EACJ;EAEA,oBACE9B,OAAA,CAACC,aAAa,CAAC+B,QAAQ;IAACC,KAAK,EAAE;MAC7BzB,OAAO;MACPE,QAAQ;MACRE,iBAAiB;MACjBW,UAAU;MACVP,SAAS;MACTW,YAAY;MACZE;IACF,CAAE;IAAAvB,QAAA,EACCA;EAAQ;IAAA4B,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACa,CAAC;AAE7B;AAAC9B,GAAA,CAnDuBF,uBAAuB;EAAA,QACfP,eAAe,EACbA,eAAe;AAAA;AAAAwC,EAAA,GAFzBjC,uBAAuB;AAAA,IAAAiC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}