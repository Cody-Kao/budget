{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\todo-typescript\\\\src\\\\Components\\\\AddBudgetModal\\\\AddBudgetModal.tsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState } from 'react';\nimport { Modal, Form, Button, InputGroup } from 'react-bootstrap';\nimport { useBudget } from '../../Context/BudgetAndExpense/BudgetAndExpense';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AddBudgetModal({\n  show,\n  handleClose\n}) {\n  _s();\n  /*\r\n      addBudget might not exist on the object returned by useBudget(), as it could potentially be null. \r\n      To handle this, you need to provide TypeScript with a way to guarantee that addBudget exists \r\n      when you access it.\r\n  */\n  const budgetContext = useBudget();\n  const [validated, setValidated] = useState(false);\n  const handleSubmit = event => {\n    event.preventDefault();\n    const form = event.currentTarget;\n    console.log(form.checkValidity());\n    if (form.checkValidity() === false) {\n      event.stopPropagation();\n      return;\n    }\n    /*\r\n        TypeScript is correctly identifying that addBudget could potentially be undefined at runtime.\r\n        This can occur if the context value returned by useBudget() is null\r\n        or if the addBudget function is not defined within the context.\r\n    */\n    const name = nameRef.current.value;\n    const max = maxRef.current.value;\n    if (name.trim() === \"\" || name.length > 10) return;\n    addBudget(name, parseFloat(max));\n    handleClose();\n    setValidated(true);\n  };\n  const {\n    addBudget\n  } = budgetContext || {};\n  const nameRef = useRef(null); // 在typescript裡面使用useRef要注意加上annotation\n  const maxRef = useRef(null);\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    show: show,\n    onHide: handleClose,\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      noValidate: true,\n      validated: validated,\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"New Budget\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          controlId: \"validationCustomUsername\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(InputGroup, {\n            hasValidation: true,\n            children: [/*#__PURE__*/_jsxDEV(InputGroup.Text, {\n              id: \"inputGroupPrepend\",\n              children: \"@\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              ref: nameRef,\n              \"aria-describedby\": \"inputGroupPrepend\",\n              required: true,\n              isInvalid: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n              type: \"invalid\",\n              children: \"\\u540D\\u7A31\\u4E0D\\u5F97\\u70BA\\u7A7A \\u4E14\\u4E0D\\u8D85\\u904E\\u5341\\u500B\\u5B57\\u5143\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          controlId: \"max\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Maximum Spending\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            ref: maxRef,\n            type: \"number\",\n            required: true,\n            min: 0,\n            step: 1\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex justify-content-end\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            type: \"submit\",\n            children: \"Add\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 9\n  }, this);\n}\n_s(AddBudgetModal, \"n6QCZLZpNNpZYOOdFK1M9kN4cq4=\", false, function () {\n  return [useBudget];\n});\n_c = AddBudgetModal;\nvar _c;\n$RefreshReg$(_c, \"AddBudgetModal\");","map":{"version":3,"names":["React","useRef","useState","Modal","Form","Button","InputGroup","useBudget","jsxDEV","_jsxDEV","AddBudgetModal","show","handleClose","_s","budgetContext","validated","setValidated","handleSubmit","event","preventDefault","form","currentTarget","console","log","checkValidity","stopPropagation","name","nameRef","current","value","max","maxRef","trim","length","addBudget","parseFloat","onHide","children","noValidate","onSubmit","Header","closeButton","Title","fileName","_jsxFileName","lineNumber","columnNumber","Body","Group","className","controlId","Label","hasValidation","Text","id","Control","type","ref","required","isInvalid","Feedback","min","step","variant","_c","$RefreshReg$"],"sources":["C:/Users/user/Desktop/todo-typescript/src/Components/AddBudgetModal/AddBudgetModal.tsx"],"sourcesContent":["import React, {FormEvent, useRef, useState} from 'react'\r\nimport { Modal, Form, Button, InputGroup } from 'react-bootstrap'\r\nimport { useBudget } from '../../Context/BudgetAndExpense/BudgetAndExpense'\r\n\r\nexport default function AddBudgetModal({show, handleClose}:{show:boolean, handleClose:() => React.Dispatch<React.SetStateAction<boolean>>}) {\r\n    /*\r\n        addBudget might not exist on the object returned by useBudget(), as it could potentially be null. \r\n        To handle this, you need to provide TypeScript with a way to guarantee that addBudget exists \r\n        when you access it.\r\n    */\r\n    const budgetContext = useBudget();\r\n    const [validated, setValidated] = useState<boolean>(false);\r\n\r\n    const handleSubmit = (event: { currentTarget: any; preventDefault: () => void; stopPropagation: () => void; }) => {\r\n        event.preventDefault();\r\n        const form = event.currentTarget;\r\n        console.log(form.checkValidity())\r\n        if (form.checkValidity() === false) {\r\n            event.stopPropagation();\r\n            return\r\n        }\r\n        /*\r\n            TypeScript is correctly identifying that addBudget could potentially be undefined at runtime.\r\n            This can occur if the context value returned by useBudget() is null\r\n            or if the addBudget function is not defined within the context.\r\n        */\r\n        const name = nameRef.current!.value;\r\n        const max = maxRef.current!.value;\r\n        if (name.trim() === \"\" || name.length > 10) return\r\n        addBudget!(name, parseFloat(max));\r\n\r\n        \r\n        handleClose()\r\n        setValidated(true);\r\n    };\r\n\r\n    const { addBudget } = budgetContext || {};  \r\n\r\n\r\n    const nameRef = useRef<HTMLInputElement>(null) // 在typescript裡面使用useRef要注意加上annotation\r\n    const maxRef = useRef<HTMLInputElement>(null)\r\n\r\n    return (\r\n        <Modal show={show} onHide={handleClose}>\r\n            <Form noValidate validated={validated} onSubmit={handleSubmit}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>New Budget</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    <Form.Group className='mb-3' controlId=\"validationCustomUsername\">\r\n                        <Form.Label>Name</Form.Label>\r\n                        <InputGroup hasValidation>\r\n                            <InputGroup.Text id=\"inputGroupPrepend\">@</InputGroup.Text>\r\n                            <Form.Control\r\n                            type=\"text\"\r\n                            ref={nameRef}\r\n                            aria-describedby=\"inputGroupPrepend\"\r\n                            required\r\n                            isInvalid={true}\r\n                            />\r\n                            <Form.Control.Feedback type=\"invalid\">\r\n                                名稱不得為空 且不超過十個字元\r\n                            </Form.Control.Feedback>\r\n                        </InputGroup>\r\n                    </Form.Group>\r\n                \r\n                    <Form.Group className='mb-3' controlId='max'>\r\n                        <Form.Label>Maximum Spending</Form.Label>\r\n                        <Form.Control ref={maxRef} type='number' required min={0} step={1}/>\r\n                    </Form.Group>\r\n                    <div className=\"d-flex justify-content-end\">\r\n                        <Button variant='primary' type='submit'>Add</Button>\r\n                    </div>\r\n                </Modal.Body>\r\n            </Form>\r\n        </Modal>\r\n    )\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}