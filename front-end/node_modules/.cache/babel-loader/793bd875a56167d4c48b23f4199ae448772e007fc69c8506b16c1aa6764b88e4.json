{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\todo-typescript\\\\src\\\\Components\\\\AddBudgetModal\\\\AddBudgetModal.tsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState } from 'react';\nimport { Modal, Form, Button, InputGroup } from 'react-bootstrap';\nimport { useBudget } from '../../Context/BudgetAndExpense/BudgetAndExpense';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AddBudgetModal({\n  show,\n  handleClose\n}) {\n  _s();\n  /*\r\n      addBudget might not exist on the object returned by useBudget(), as it could potentially be null. \r\n      To handle this, you need to provide TypeScript with a way to guarantee that addBudget exists \r\n      when you access it.\r\n  */\n  const budgetContext = useBudget();\n  const [validated, setValidated] = useState(false);\n  const handleSubmit = event => {\n    event.preventDefault();\n    const form = event.currentTarget;\n    if (form.checkValidity() === false) {\n      event.stopPropagation();\n      setValidated(true);\n      return;\n    }\n    /*\r\n        TypeScript is correctly identifying that addBudget could potentially be undefined at runtime.\r\n        This can occur if the context value returned by useBudget() is null\r\n        or if the addBudget function is not defined within the context.\r\n    */\n    if (addBudget) {\n      // 寫成addBudget!() 去調用也可以\n      const name = nameRef.current.value;\n      const max = maxRef.current.value;\n      addBudget(name, parseFloat(max));\n    }\n    handleClose();\n    setValidated(true);\n  };\n  const {\n    addBudget\n  } = budgetContext || {};\n  const nameRef = useRef(null); // 在typescript裡面使用useRef要注意加上annotation\n  const maxRef = useRef(null);\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    show: show,\n    onHide: handleClose,\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      className: \"mb-3\",\n      noValidate: true,\n      validated: validated,\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"New Budget\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"validationCustomUsername\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(InputGroup, {\n            hasValidation: true,\n            children: [/*#__PURE__*/_jsxDEV(InputGroup.Text, {\n              id: \"inputGroupPrepend\",\n              children: \"@\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              ref: nameRef,\n              \"aria-describedby\": \"inputGroupPrepend\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n              type: \"invalid\",\n              children: \"\\u8ACB\\u8F38\\u5165\\u5C0F\\u65BC10\\u5B57\\u7684\\u540D\\u7A31\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          controlId: \"max\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Maximum Spending\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            ref: maxRef,\n            type: \"number\",\n            required: true,\n            min: 0,\n            step: 1\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex justify-content-end\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            type: \"submit\",\n            children: \"Add\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 9\n  }, this);\n}\n_s(AddBudgetModal, \"n6QCZLZpNNpZYOOdFK1M9kN4cq4=\", false, function () {\n  return [useBudget];\n});\n_c = AddBudgetModal;\nvar _c;\n$RefreshReg$(_c, \"AddBudgetModal\");","map":{"version":3,"names":["React","useRef","useState","Modal","Form","Button","InputGroup","useBudget","jsxDEV","_jsxDEV","AddBudgetModal","show","handleClose","_s","budgetContext","validated","setValidated","handleSubmit","event","preventDefault","form","currentTarget","checkValidity","stopPropagation","addBudget","name","nameRef","current","value","max","maxRef","parseFloat","onHide","children","className","noValidate","onSubmit","Header","closeButton","Title","fileName","_jsxFileName","lineNumber","columnNumber","Body","Group","controlId","Label","hasValidation","Text","id","Control","type","ref","required","Feedback","min","step","variant","_c","$RefreshReg$"],"sources":["C:/Users/user/Desktop/todo-typescript/src/Components/AddBudgetModal/AddBudgetModal.tsx"],"sourcesContent":["import React, {FormEvent, useRef, useState} from 'react'\r\nimport { Modal, Form, Button, InputGroup } from 'react-bootstrap'\r\nimport { useBudget } from '../../Context/BudgetAndExpense/BudgetAndExpense'\r\n\r\nexport default function AddBudgetModal({show, handleClose}:{show:boolean, handleClose:() => React.Dispatch<React.SetStateAction<boolean>>}) {\r\n    /*\r\n        addBudget might not exist on the object returned by useBudget(), as it could potentially be null. \r\n        To handle this, you need to provide TypeScript with a way to guarantee that addBudget exists \r\n        when you access it.\r\n    */\r\n    const budgetContext = useBudget();\r\n    const [validated, setValidated] = useState<boolean>(false);\r\n\r\n    const handleSubmit = (event: { currentTarget: any; preventDefault: () => void; stopPropagation: () => void; }) => {\r\n        event.preventDefault();\r\n        const form = event.currentTarget;\r\n        if (form.checkValidity() === false) {\r\n            event.stopPropagation();\r\n            setValidated(true)\r\n            return\r\n        }\r\n        /*\r\n            TypeScript is correctly identifying that addBudget could potentially be undefined at runtime.\r\n            This can occur if the context value returned by useBudget() is null\r\n            or if the addBudget function is not defined within the context.\r\n        */\r\n        if (addBudget) { // 寫成addBudget!() 去調用也可以\r\n            const name = nameRef.current!.value;\r\n            const max = maxRef.current!.value;\r\n            addBudget(name, parseFloat(max));\r\n        }\r\n        \r\n        handleClose()\r\n        setValidated(true);\r\n    };\r\n\r\n    const { addBudget } = budgetContext || {};  \r\n\r\n\r\n    const nameRef = useRef<HTMLInputElement>(null) // 在typescript裡面使用useRef要注意加上annotation\r\n    const maxRef = useRef<HTMLInputElement>(null)\r\n\r\n    return (\r\n        <Modal show={show} onHide={handleClose}>\r\n            <Form className='mb-3' noValidate validated={validated} onSubmit={handleSubmit}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>New Budget</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    <Form.Group controlId=\"validationCustomUsername\">\r\n                        <Form.Label>Name</Form.Label>\r\n                        <InputGroup hasValidation>\r\n                            <InputGroup.Text id=\"inputGroupPrepend\">@</InputGroup.Text>\r\n                            <Form.Control\r\n                            type=\"text\"\r\n                            ref={nameRef}\r\n                            aria-describedby=\"inputGroupPrepend\"\r\n                            required\r\n                            />\r\n                            <Form.Control.Feedback type=\"invalid\">\r\n                                請輸入小於10字的名稱\r\n                            </Form.Control.Feedback>\r\n                        </InputGroup>\r\n                    </Form.Group>\r\n                \r\n                    <Form.Group className='mb-3' controlId='max'>\r\n                        <Form.Label>Maximum Spending</Form.Label>\r\n                        <Form.Control ref={maxRef} type='number' required min={0} step={1}/>\r\n                    </Form.Group>\r\n                    <div className=\"d-flex justify-content-end\">\r\n                        <Button variant='primary' type='submit'>Add</Button>\r\n                    </div>\r\n                </Modal.Body>\r\n            </Form>\r\n        </Modal>\r\n    )\r\n}\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAcC,MAAM,EAAEC,QAAQ,QAAO,OAAO;AACxD,SAASC,KAAK,EAAEC,IAAI,EAAEC,MAAM,EAAEC,UAAU,QAAQ,iBAAiB;AACjE,SAASC,SAAS,QAAQ,iDAAiD;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAE3E,eAAe,SAASC,cAAcA,CAAC;EAACC,IAAI;EAAEC;AAA2F,CAAC,EAAE;EAAAC,EAAA;EACxI;AACJ;AACA;AACA;AACA;EACI,MAAMC,aAAa,GAAGP,SAAS,CAAC,CAAC;EACjC,MAAM,CAACQ,SAAS,EAAEC,YAAY,CAAC,GAAGd,QAAQ,CAAU,KAAK,CAAC;EAE1D,MAAMe,YAAY,GAAIC,KAAuF,IAAK;IAC9GA,KAAK,CAACC,cAAc,CAAC,CAAC;IACtB,MAAMC,IAAI,GAAGF,KAAK,CAACG,aAAa;IAChC,IAAID,IAAI,CAACE,aAAa,CAAC,CAAC,KAAK,KAAK,EAAE;MAChCJ,KAAK,CAACK,eAAe,CAAC,CAAC;MACvBP,YAAY,CAAC,IAAI,CAAC;MAClB;IACJ;IACA;AACR;AACA;AACA;AACA;IACQ,IAAIQ,SAAS,EAAE;MAAE;MACb,MAAMC,IAAI,GAAGC,OAAO,CAACC,OAAO,CAAEC,KAAK;MACnC,MAAMC,GAAG,GAAGC,MAAM,CAACH,OAAO,CAAEC,KAAK;MACjCJ,SAAS,CAACC,IAAI,EAAEM,UAAU,CAACF,GAAG,CAAC,CAAC;IACpC;IAEAjB,WAAW,CAAC,CAAC;IACbI,YAAY,CAAC,IAAI,CAAC;EACtB,CAAC;EAED,MAAM;IAAEQ;EAAU,CAAC,GAAGV,aAAa,IAAI,CAAC,CAAC;EAGzC,MAAMY,OAAO,GAAGzB,MAAM,CAAmB,IAAI,CAAC,EAAC;EAC/C,MAAM6B,MAAM,GAAG7B,MAAM,CAAmB,IAAI,CAAC;EAE7C,oBACIQ,OAAA,CAACN,KAAK;IAACQ,IAAI,EAAEA,IAAK;IAACqB,MAAM,EAAEpB,WAAY;IAAAqB,QAAA,eACnCxB,OAAA,CAACL,IAAI;MAAC8B,SAAS,EAAC,MAAM;MAACC,UAAU;MAACpB,SAAS,EAAEA,SAAU;MAACqB,QAAQ,EAAEnB,YAAa;MAAAgB,QAAA,gBAC3ExB,OAAA,CAACN,KAAK,CAACkC,MAAM;QAACC,WAAW;QAAAL,QAAA,eACrBxB,OAAA,CAACN,KAAK,CAACoC,KAAK;UAAAN,QAAA,EAAC;QAAU;UAAAO,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAa;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3B,CAAC,eACflC,OAAA,CAACN,KAAK,CAACyC,IAAI;QAAAX,QAAA,gBACPxB,OAAA,CAACL,IAAI,CAACyC,KAAK;UAACC,SAAS,EAAC,0BAA0B;UAAAb,QAAA,gBAC5CxB,OAAA,CAACL,IAAI,CAAC2C,KAAK;YAAAd,QAAA,EAAC;UAAI;YAAAO,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAY,CAAC,eAC7BlC,OAAA,CAACH,UAAU;YAAC0C,aAAa;YAAAf,QAAA,gBACrBxB,OAAA,CAACH,UAAU,CAAC2C,IAAI;cAACC,EAAE,EAAC,mBAAmB;cAAAjB,QAAA,EAAC;YAAC;cAAAO,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAiB,CAAC,eAC3DlC,OAAA,CAACL,IAAI,CAAC+C,OAAO;cACbC,IAAI,EAAC,MAAM;cACXC,GAAG,EAAE3B,OAAQ;cACb,oBAAiB,mBAAmB;cACpC4B,QAAQ;YAAA;cAAAd,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACP,CAAC,eACFlC,OAAA,CAACL,IAAI,CAAC+C,OAAO,CAACI,QAAQ;cAACH,IAAI,EAAC,SAAS;cAAAnB,QAAA,EAAC;YAEtC;cAAAO,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAuB,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChB,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC,eAEblC,OAAA,CAACL,IAAI,CAACyC,KAAK;UAACX,SAAS,EAAC,MAAM;UAACY,SAAS,EAAC,KAAK;UAAAb,QAAA,gBACxCxB,OAAA,CAACL,IAAI,CAAC2C,KAAK;YAAAd,QAAA,EAAC;UAAgB;YAAAO,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAY,CAAC,eACzClC,OAAA,CAACL,IAAI,CAAC+C,OAAO;YAACE,GAAG,EAAEvB,MAAO;YAACsB,IAAI,EAAC,QAAQ;YAACE,QAAQ;YAACE,GAAG,EAAE,CAAE;YAACC,IAAI,EAAE;UAAE;YAAAjB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5D,CAAC,eACblC,OAAA;UAAKyB,SAAS,EAAC,4BAA4B;UAAAD,QAAA,eACvCxB,OAAA,CAACJ,MAAM;YAACqD,OAAO,EAAC,SAAS;YAACN,IAAI,EAAC,QAAQ;YAAAnB,QAAA,EAAC;UAAG;YAAAO,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnD,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACX;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CAAC;AAEhB;AAAC9B,EAAA,CAxEuBH,cAAc;EAAA,QAMZH,SAAS;AAAA;AAAAoD,EAAA,GANXjD,cAAc;AAAA,IAAAiD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}